3460:4/521 Project 4 Report

Name:     Rob Bauer
UANET id: rsbauer

Generated: Thu Dec  2 07:33:09 EST 2010

------------------------------------------------------------------------
r2868 | rsbauer | 2010-11-18 20:13:06 -0500 (Thu, 18 Nov 2010) | 1 line
Changed paths:
   M /Apprise/trunk/src/qtclassdiagramlayout/UMLClassDiagram.cpp
   M /Apprise/trunk/src/qtclassdiagramlayout/UMLRelationshipLayout.cpp

Fixed power method call to include cast to double.  Updated UMLClassDiagram to fix return type.  Builds now in Windows.
Index: qtclassdiagramlayout/UMLClassDiagram.cpp
===================================================================
--- qtclassdiagramlayout/UMLClassDiagram.cpp	(revision 2867)
+++ qtclassdiagramlayout/UMLClassDiagram.cpp	(revision 2868)
@@ -92,4 +92,6 @@
 const std::list<UMLRelationship*>& UMLClassDiagram::getRelationships()
 {
   //	return model->getRelationships();
+    std::list<UMLRelationship*> yo;
+    return yo;
 }
Index: qtclassdiagramlayout/UMLRelationshipLayout.cpp
===================================================================
--- qtclassdiagramlayout/UMLRelationshipLayout.cpp	(revision 2867)
+++ qtclassdiagramlayout/UMLRelationshipLayout.cpp	(revision 2868)
@@ -118,10 +118,10 @@
     end = pointB1;
 
     // Calculate distance between original corner of first class and second class
-    distB1 = (int) sqrt(pow(start.x()-pointB1.x(),2)+ pow(start.y()-pointB1.y(),2));
-    distB2 = (int) sqrt(pow(start.x()-pointB2.x(),2)+ pow(start.y()-pointB2.y(),2));
-    distB3 = (int) sqrt(pow(start.x()-pointB3.x(),2)+ pow(start.y()-pointB3.y(),2));
-    distB4 = (int) sqrt(pow(start.x()-pointB4.x(),2)+ pow(start.y()-pointB4.y(),2));
+    distB1 = (int) sqrt(pow((double)start.x()-pointB1.x(),2)+ pow((double)start.y()-pointB1.y(),2));
+    distB2 = (int) sqrt(pow((double)start.x()-pointB2.x(),2)+ pow((double)start.y()-pointB2.y(),2));
+    distB3 = (int) sqrt(pow((double)start.x()-pointB3.x(),2)+ pow((double)start.y()-pointB3.y(),2));
+    distB4 = (int) sqrt(pow((double)start.x()-pointB4.x(),2)+ pow((double)start.y()-pointB4.y(),2));
 
     // Sets 1st case
     int final = distB1;
@@ -149,10 +149,10 @@
     }
 
     // Calculates distance between new end corner and all four original class corners
-    distA1 = (int) sqrt(pow(end.x()-pointA1.x(),2)+ pow(end.y()-pointA1.y(),2));
-    distA2 = (int) sqrt(pow(end.x()-pointA2.x(),2)+ pow(end.y()-pointA2.y(),2));
-    distA3 = (int) sqrt(pow(end.x()-pointA3.x(),2)+ pow(end.y()-pointA3.y(),2));
-    distA4 = (int) sqrt(pow(end.x()-pointA4.x(),2)+ pow(end.y()-pointA4.y(),2));
+    distA1 = (int) sqrt(pow((double)end.x()-pointA1.x(),2)+ pow((double)end.y()-pointA1.y(),2));
+    distA2 = (int) sqrt(pow((double)end.x()-pointA2.x(),2)+ pow((double)end.y()-pointA2.y(),2));
+    distA3 = (int) sqrt(pow((double)end.x()-pointA3.x(),2)+ pow((double)end.y()-pointA3.y(),2));
+    distA4 = (int) sqrt(pow((double)end.x()-pointA4.x(),2)+ pow((double)end.y()-pointA4.y(),2));
 
     // Sets 1st case
     int final2 = distA1;
------------------------------------------------------------------------
r2922 | rsbauer | 2010-11-23 14:14:51 -0500 (Tue, 23 Nov 2010) | 1 line
Changed paths:
   M /Apprise/trunk/src/qtapprise/AppriseMenu.cpp

In Windows, clicking on Save or Save As crashes the app.  Changed the dialog value to 0 and the dialog now shows up as expected.
Index: qtapprise/AppriseMenu.cpp
===================================================================
--- qtapprise/AppriseMenu.cpp	(revision 2921)
+++ qtapprise/AppriseMenu.cpp	(revision 2922)
@@ -177,7 +177,7 @@
     QFileDialog::Options options;
 
     QString selectedFilter;
-    saveFileName = QFileDialog::getSaveFileName(dialog,
+    saveFileName = QFileDialog::getSaveFileName(0,
         tr("QFile::getSaveFileName()"),
         "",
         tr("UML Files (*.UML)"),
------------------------------------------------------------------------
r2937 | rsbauer | 2010-11-26 17:14:39 -0500 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   A /Apprise/trunk/src/src.pro

Checking in .pro file
Index: src.pro
===================================================================
--- src.pro	(revision 0)
+++ src.pro	(revision 2937)
@@ -0,0 +1,118 @@
+######################################################################
+# Automatically generated by qmake (2.01a) Fri Nov 26 16:55:36 2010
+######################################################################
+
+TEMPLATE = app
+TARGET = 
+DEPENDPATH += . \
+              importexport \
+              qtapprise \
+              qtclassdiagramlayout \
+              sequencediagram \
+              umlclassmodel
+INCLUDEPATH += .
+
+# Input
+HEADERS += importexport/QUMLAggregation.hpp \
+           importexport/QUMLAssociation.hpp \
+           importexport/QUMLClass.hpp \
+           importexport/QUMLClassModel.hpp \
+           importexport/QUMLComposition.hpp \
+           importexport/QUMLDependency.hpp \
+           importexport/QUMLGeneralization.hpp \
+           importexport/QUMLModelElement.hpp \
+           importexport/QUMLRelationship.hpp \
+           importexport/QUMLStereotype.hpp \
+           importexport/Serializable.hpp \
+           importexport/Statics.hpp \
+           qtapprise/AppriseActions.hpp \
+           qtapprise/AppriseBackground.hpp \
+           qtapprise/AppriseButtons.hpp \
+           qtapprise/AppriseClassEditor.hpp \
+           qtapprise/AppriseCommands.hpp \
+           qtapprise/AppriseDockWidget.hpp \
+           qtapprise/AppriseDraw.hpp \
+           qtapprise/AppriseMenu.hpp \
+           qtapprise/AppriseStyleEditor.hpp \
+           qtapprise/AppriseTrayIcon.hpp \
+           qtapprise/AppriseWindow.hpp \
+           qtapprise/DrawClass.hpp \
+           qtapprise/DrawLabel.hpp \
+           qtclassdiagramlayout/AboutDialog.hpp \
+           qtclassdiagramlayout/ColorListEditor.hpp \
+           qtclassdiagramlayout/StereotypeDialog.hpp \
+           qtclassdiagramlayout/UMLAttributeLabel.hpp \
+           qtclassdiagramlayout/UMLClassDiagram.hpp \
+           qtclassdiagramlayout/UMLClassLayout.hpp \
+           qtclassdiagramlayout/UMLOperatorLabel.hpp \
+           qtclassdiagramlayout/UMLRelationshipLayout.hpp \
+           sequencediagram/SDEvent.hpp \
+           sequencediagram/SDFactory.hpp \
+           sequencediagram/SDObject.hpp \
+           sequencediagram/SDObjectInstance.hpp \
+           sequencediagram/SequenceDiagram.hpp \
+           umlclassmodel/UMLAggregation.hpp \
+           umlclassmodel/UMLAssociation.hpp \
+           umlclassmodel/UMLClass.hpp \
+           umlclassmodel/UMLClassModel.hpp \
+           umlclassmodel/UMLComposition.hpp \
+           umlclassmodel/UMLDependency.hpp \
+           umlclassmodel/UMLGeneralization.hpp \
+           umlclassmodel/UMLModelElement.hpp \
+           umlclassmodel/UMLRelationship.hpp \
+           umlclassmodel/UMLStereotype.hpp \
+           umlclassmodel/UMLAggregation.cpp \
+           umlclassmodel/UMLAssociation.cpp \
+           umlclassmodel/UMLComposition.cpp \
+           umlclassmodel/UMLDependency.cpp \
+           umlclassmodel/UMLGeneralization.cpp
+SOURCES += importexport/QUMLAggregation.cpp \
+           importexport/QUMLAssociation.cpp \
+           importexport/QUMLClass.cpp \
+           importexport/QUMLClassModel.cpp \
+           importexport/QUMLComposition.cpp \
+           importexport/QUMLDependency.cpp \
+           importexport/QUMLGeneralization.cpp \
+           importexport/QUMLModelElement.cpp \
+           importexport/QUMLRelationship.cpp \
+           importexport/QUMLStereotype.cpp \
+           importexport/Serializable.cpp \
+           importexport/Statics.cpp \
+           qtapprise/AppriseActions.cpp \
+           qtapprise/AppriseBackground.cpp \
+           qtapprise/AppriseButtons.cpp \
+           qtapprise/AppriseClassEditor.cpp \
+           qtapprise/AppriseCommands.cpp \
+           qtapprise/AppriseDockWidget.cpp \
+           qtapprise/AppriseDraw.cpp \
+           qtapprise/AppriseMain.cpp \
+           qtapprise/AppriseMenu.cpp \
+           qtapprise/AppriseStyleEditor.cpp \
+           qtapprise/AppriseTrayIcon.cpp \
+           qtapprise/AppriseWindow.cpp \
+           qtapprise/DrawClass.cpp \
+           qtapprise/DrawLabel.cpp \
+           qtclassdiagramlayout/AboutDialog.cpp \
+           qtclassdiagramlayout/ColorListEditor.cpp \
+           qtclassdiagramlayout/StereotypeDialog.cpp \
+           qtclassdiagramlayout/UMLAttributeLabel.cpp \
+           qtclassdiagramlayout/UMLClassDiagram.cpp \
+           qtclassdiagramlayout/UMLClassLayout.cpp \
+           qtclassdiagramlayout/UMLOperatorLabel.cpp \
+           qtclassdiagramlayout/UMLRelationshipLayout.cpp \
+           sequencediagram/SDEvent.cpp \
+           sequencediagram/SDFactory.cpp \
+           sequencediagram/SDObject.cpp \
+           sequencediagram/SDObjectInstance.cpp \
+           sequencediagram/SequenceDiagram.cpp \
+           umlclassmodel/UMLAggregation.cpp \
+           umlclassmodel/UMLAssociation.cpp \
+           umlclassmodel/UMLClass.cpp \
+           umlclassmodel/UMLClassModel.cpp \
+           umlclassmodel/UMLComposition.cpp \
+           umlclassmodel/UMLDependency.cpp \
+           umlclassmodel/UMLGeneralization.cpp \
+           umlclassmodel/UMLModelElement.cpp \
+           umlclassmodel/UMLRelationship.cpp \
+           umlclassmodel/UMLStereotype.cpp
+RESOURCES += Apprise.qrc
